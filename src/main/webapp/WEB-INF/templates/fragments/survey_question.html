<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <div th:fragment="inputQuestion(question, answers)">
        <div class="card mx-auto mt-5 bg-light border-info" style="width: 50rem;" >
            <div class="card-body">
                <p class="lead mb-2" th:text="${question.questionBody}">Test</p>
                <hr>
                <div th:switch="${question.questionType}">
                    <div th:case="${T(pwr.groupproject.vouchers.bean.model.enums.QuestionType).OPEN}">
                        <input class="w-100" th:field="*{answers[__${iter.index}__].answerBody}" type="text">
                    </div>
                    <div th:id="${question.id}" th:case="${T(pwr.groupproject.vouchers.bean.model.enums.QuestionType).MULTIPLE_CHOICE}">
                        <div class="custom-controls-stacked ml-2">
                            <div class="form-check">
                                <label class="custom-control custom-checkbox">
                                    <input class="custom-control-input" th:field="*{answers[__${iter.index}__].answerBody}" th:name="${question.id}" type="checkbox" th:value="A">
                                    <span class="custom-control-indicator"></span>
                                    <span th:text="${question.possibleAnswers.possibleAnswerA}" class="custom-control-description">PossibleAnswerA</span>
                                </label>
                            </div>

                            <div class="form-check">
                                <label class="custom-control custom-checkbox">
                                    <input class="custom-control-input" th:field="*{answers[__${iter.index}__].answerBody}" th:name="${question.id}" type="checkbox" th:value="B">
                                    <span class="custom-control-indicator"></span>
                                    <span th:text="${question.possibleAnswers.possibleAnswerB}" class="custom-control-description">PossibleAnswerB</span>
                                </label>
                            </div>

                            <div class="form-check">
                                <label class="custom-control custom-checkbox">
                                    <input class="custom-control-input" th:field="*{answers[__${iter.index}__].answerBody}" th:name="${question.id}" type="checkbox" th:value="C">
                                    <span class="custom-control-indicator"></span>
                                    <span th:text="${question.possibleAnswers.possibleAnswerC}" class="custom-control-description">PossibleAnswerC</span>
                                </label>
                            </div>

                            <div class="form-check">
                                <label class="custom-control custom-checkbox">
                                    <input class="custom-control-input" th:field="*{answers[__${iter.index}__].answerBody}" th:name="${question.id}" type="checkbox" th:value="D">
                                    <span class="custom-control-indicator"></span>
                                    <span th:text="${question.possibleAnswers.possibleAnswerD}" class="custom-control-description">PossibleAnswerD</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    <div th:id="${question.id}" th:case="${T(pwr.groupproject.vouchers.bean.model.enums.QuestionType).SINGLE_CHOICE}">
                        <div class="custom-controls-stacked ml-2">
                            <div class="form-check">
                                <label class="custom-control custom-radio">
                                    <input class="custom-control-input" th:field="*{answers[__${iter.index}__].answerBody}" th:name="${question.id}" type="radio" th:value="A" checked>
                                    <span class="custom-control-indicator"></span>
                                    <span th:text="${question.possibleAnswers.possibleAnswerA}" class="custom-control-description">PossibleAnswerA</span>
                                </label>
                            </div>

                            <div class="form-check">
                                <label class="custom-control custom-radio">
                                    <input class="custom-control-input" th:field="*{answers[__${iter.index}__].answerBody}" th:name="${question.id}" type="radio" th:value="B">
                                    <span class="custom-control-indicator"></span>
                                    <span th:text="${question.possibleAnswers.possibleAnswerB}" class="custom-control-description">PossibleAnswerB</span>
                                </label>
                            </div>

                            <div class="form-check">
                                <label class="custom-control custom-radio">
                                    <input class="custom-control-input" th:field="*{answers[__${iter.index}__].answerBody}" th:name="${question.id}" type="radio" th:value="C">
                                    <span class="custom-control-indicator"></span>
                                    <span th:text="${question.possibleAnswers.possibleAnswerC}" class="custom-control-description">PossibleAnswerC</span>
                                </label>
                            </div>

                            <div class="form-check">
                                <label class="custom-control custom-radio">
                                    <input class="custom-control-input" th:field="*{answers[__${iter.index}__].answerBody}"  th:name="${question.id}" type="radio" th:value="D">
                                    <span class="custom-control-indicator"></span>
                                    <span th:text="${question.possibleAnswers.possibleAnswerD}" class="custom-control-description">PossibleAnswerD</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    <div th:case="${T(pwr.groupproject.vouchers.bean.model.enums.QuestionType).RANGED}">
                        <div class="mx-auto text-center">
                        <i class="fa fa-frown-o fa-lg fa-2x mr-3 text-danger"></i>
                        <input th:field="*{answers[__${iter.index}__].answerBody}" type="range" min="0" max="10" step="1">
                        <i class="fa fa-smile-o fa-lg fa-2x ml-3 text-success"></i>
                        </div>
                    </div>
                    <p class="alert alert-danger mt-3" th:if="${#fields.hasErrors('answers[__${iter.index}__].answerBody')}" th:errors="*{answers[__${iter.index}__].answerBody}"></p>
                </div>
            </div>
        </div>

    </div>
</body>
</html>